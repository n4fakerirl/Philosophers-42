# **************************************************************************** #
#                                                                              #
#                                                         :::      ::::::::   #
#    Makefile                                           :+:      :+:    :+:   #
#                                                     +:+ +:+         +:+     #
#    By: ocviller <ocviller@student.42.fr>          +#+  +:+       +#+        #
#                                                 +#+#+#+#+#+   +#+           #
#    Created: 2025/08/14 20:39:10 by ocviller          #+#    #+#             #
#    Updated: 2025/09/03 15:01:08 by ocviller         ###   ########.fr       #
#                                                                              #
# **************************************************************************** #

NAME = philo
CC = cc
CFLAGS = -Wall -Wextra -Werror
INCLUDES = -I.
SRCS = clear.c monitor.c parsing.c philo.c routine.c utils.c
OBJS = $(SRCS:.c=.o)
OBJS_FULL = $(addprefix $(OBJDIR)/, $(OBJS))
OBJDIR = obj

RED = \033[0;31m
GREEN = \033[0;32m
YELLOW = \033[0;33m
BLUE = \033[0;34m
MAGENTA = \033[0;35m
CYAN = \033[0;36m
WHITE = \033[0;37m
RESET = \033[0m

# Header function
define HEADER
	@echo ""
	@echo "$(CYAN)‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà$(RESET)"
	@echo "$(CYAN)‚ñà$(RESET)                                                                              $(CYAN)‚ñà$(RESET)"
	@echo "$(CYAN)‚ñà$(RESET)                         $(MAGENTA)‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó ‚ñà‚ñà‚ïó  ‚ñà‚ñà‚ïó‚ñà‚ñà‚ïó‚ñà‚ñà‚ïó      ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó $(RESET)                 $(CYAN)‚ñà$(RESET)"
	@echo "$(CYAN)‚ñà$(RESET)                         $(MAGENTA)‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë     ‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ñà‚ñà‚ïó$(RESET)                 $(CYAN)‚ñà$(RESET)"
	@echo "$(CYAN)‚ñà$(RESET)                         $(MAGENTA)‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë     ‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë$(RESET)                 $(CYAN)‚ñà$(RESET)"
	@echo "$(CYAN)‚ñà$(RESET)                         $(MAGENTA)‚ñà‚ñà‚ïî‚ïê‚ïê‚ïê‚ïù ‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë     ‚ñà‚ñà‚ïë   ‚ñà‚ñà‚ïë$(RESET)                 $(CYAN)‚ñà$(RESET)"
	@echo "$(CYAN)‚ñà$(RESET)                         $(MAGENTA)‚ñà‚ñà‚ïë     ‚ñà‚ñà‚ïë  ‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù$(RESET)                 $(CYAN)‚ñà$(RESET)"
	@echo "$(CYAN)‚ñà$(RESET)                         $(MAGENTA)‚ïö‚ïê‚ïù     ‚ïö‚ïê‚ïù  ‚ïö‚ïê‚ïù‚ïö‚ïê‚ïù‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù$(RESET)                  $(CYAN)‚ñà$(RESET)"
	@echo "$(CYAN)‚ñà$(RESET)                                                                              $(CYAN)‚ñà$(RESET)"
	@echo "$(CYAN)‚ñà$(RESET)                                                                              $(CYAN)‚ñà$(RESET)"
	@echo "$(CYAN)‚ñà$(RESET)                                                                              $(CYAN)‚ñà$(RESET)"
	@echo "$(CYAN)‚ñà$(RESET)                                 $(WHITE)Par: ocviller$(RESET)                                $(CYAN)‚ñà$(RESET)"
	@echo "$(CYAN)‚ñà$(RESET)                                 $(WHITE)√âcole: 42$(RESET)                                    $(CYAN)‚ñà$(RESET)"
	@echo "$(CYAN)‚ñà$(RESET)                                                                              $(CYAN)‚ñà$(RESET)"
	@echo "$(CYAN)‚ñà$(RESET)                                                                              $(CYAN)‚ñà$(RESET)"
	@echo "$(CYAN)‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà$(RESET)"
	@echo ""
	@echo "$(YELLOW)üîß Compilation en cours...$(RESET)"
	@echo ""
endef

all: $(NAME)

$(NAME): $(OBJDIR) $(OBJS_FULL)
	$(HEADER)
	@$(CC) $(CFLAGS) $(OBJS_FULL) -o $(NAME)
	@echo "$(MAGENTA)‚úÖ Compilation de l'executable...$(RESET)"

$(OBJDIR):
	@mkdir -p $(OBJDIR)

$(OBJDIR)/%.o: %.c
	@$(CC) $(CFLAGS) $(INCLUDES) -c $< -o $@
	@echo "$(GREEN)‚úì Compilation de $<$(RESET)"

clean:
	@rm -rf $(OBJDIR)
	@echo "$(YELLOW)‚öôÔ∏è Nettoyage des objets...$(RESET)"

fclean: clean
	@rm -f $(NAME)
	@echo "$(YELLOW)‚öôÔ∏è Nettoyage des objets et programmes...$(RESET)"

re: fclean all

.PHONY: all clean fclean re